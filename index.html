
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<title>360 rotate demo</title>
	<script type="text/javascript" src="./360 rotate demo_files/jquery.min.js"></script>
	<script type="text/javascript" src="./360 rotate demo_files/jquery.threesixty.js"></script>

<script language="javascript">
$(function() {

	//l'array ARR va contenir la liste des images
	var arr = [];
	//trop lazy pour tout taper... 
	for (var x=4248; x<= 4292; x++)
		arr.push("./360 rotate demo_files/images/DSC_" +x + ".png");
	
	//bindons le widget rotate � l'image pic avec la liste d'image arr
	$("#mousemove").threesixty({images:arr, method:'mousemove', 'cycle':3, direction:"backward"});
	$("#click").threesixty({images:arr, method:'click', 'cycle':1, 'resetMargin': 10});
	$("#auto").threesixty({images:arr, method:'auto', autoscrollspeed:100});


	var isTouch = ('ontouchstart' in window);
	$('#hoge').bind({
                 
	    /* タッチの開始、マウスボタンを押したとき */
	    'touchstart mousedown': function(e) {
	        // ページが動いたり、反応を止める
	        e.preventDefault();
	         
	        // 開始位置 X,Y 座標を覚えておく
	        // （touchmove イベントを通らず終了したときのために必ず覚えておくこと）
	        this.pageX = (isTouch ? event.changedTouches[0].pageX : e.pageX);
	        this.pageY = (isTouch ? event.changedTouches[0].pageY : e.pageY);
	 
	        // 現在の hoge の場所を覚えておく
	        this.left = $(this).position().left;
	        this.top = $(this).position().top;
	         
	        // タッチ処理を開始したフラグをたてる
	        this.touched = true;
	    },
	    /* タッチしながら移動、マウスのドラッグ */
	    'touchmove mousemove': function(e) {
	         
	        // 開始していない場合は動かないようにする
	        // 過剰動作の防止
	        if (!this.touched) {
	            return;
	        }
	         
	        // ページが動くのを止める
	        e.preventDefault();
	         
	        // 移動先の hoge の位置を取得する
	        this.left = this.left - (this.pageX - (isTouch ? event.changedTouches[0].pageX : e.pageX) );
	        this.top = this.top - (this.pageY - (isTouch ? event.changedTouches[0].pageY : e.pageY) );
	 
	        // hoge を移動させる
	        $(this).css({left:this.left, top:this.top});
	         
	        // 位置 X,Y 座標を覚えておく
	        this.pageX = (isTouch ? event.changedTouches[0].pageX : e.pageX);
	        this.pageY = (isTouch ? event.changedTouches[0].pageY : e.pageY);
	    },
	    /* タッチの終了、マウスのドラッグの終了 */
	    'touchend mouseup': function(e) {
	        if (!this.touched) {
	            return;
	        }
	         
	        // タッチ処理は終了したため、フラグをたたむ
	        this.touched = false;
	         
	        // 必要なら以下で最終の hoge の位置を取得し何かに使う
	        // this.pageX
	        // this.pageY
	    }
	});

});

</script>
	</head>
	<body>
	
<div class="rotContainer">
	
	<div>
		マウスを通してみてください。
	</div>
	<div>
		<div style="height: auto; width: auto; overflow: hidden; position: relative;"><div style="height: auto; width: auto; overflow: hidden; position: relative;"><img src="./360 rotate demo_files/images/DSC_4263.png" id="mousemove" width="800" height="900" style="position: relative; top: 0px; left: 0px; cursor: all-scroll;"></div></div>
	</div>
	
</div>
<hr>
<div id="hoge" class="rotContainer" style="clear:both">
	<div>
		マウスでドラッグしてみてください。
	</div>
	<div>
		<div style="height: auto; width: auto; overflow: hidden; position: relative;"><div style="height: auto; width: auto; overflow: hidden; position: relative;"><img src="./360 rotate demo_files/images/DSC_4264.png" id="click" width="800" height="900" style="position: relative; top: 0px; left: 0px; cursor: all-scroll;"></div></div>
	</div>
	
</div>
<hr>
<div class="rotContainer">
	<div>
		自動回転、速度調整可能。
	</div>
	<div>
		<div style="height: auto; width: auto; overflow: hidden; position: relative;"><div style="height: auto; width: auto; overflow: hidden; position: relative;"><img src="./360 rotate demo_files/images/DSC_4265.png" id="auto" width="800" height="900" style="position: relative; top: 0px; left: 0px; cursor: all-scroll;"></div></div>
	</div>
	
</div>



	
	</body></html>
